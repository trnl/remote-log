(function() { function h(a){throw a;}
var i=true,k=null,l=false,m,p=this,aa=function(a){a=a.split(".");for(var b=p,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b},ba=function(){},ca=function(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";
if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if(b=="function"&&typeof a.call=="undefined")return"object";return b},q=function(a){return ca(a)=="array"},s=function(a){var b=ca(a);return b=="array"||b=="object"&&typeof a.length=="number"},u=function(a){return typeof a=="string"},da=function(a){return ca(a)=="function"},ea=function(a){a=ca(a);return a=="object"||a=="array"||a==
"function"},ha=function(a){return a[fa]||(a[fa]=++ga)},fa="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ga=0,ia=function(a){return a.call.apply(a.bind,arguments)},ja=function(a,b){var c=b||p;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}},v=function(){v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=
-1?ia:ja;return v.apply(k,arguments)},ka=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}},la=Date.now||function(){return+new Date},x=function(a,b){var c=a.split("."),d=p;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)if(!c.length&&b!==undefined)d[e]=b;else d=d[e]?d[e]:d[e]={}},y=function(a,b){function c(){}c.prototype=b.prototype;a.D=b.prototype;
a.prototype=new c;a.prototype.constructor=a};Function.prototype.bind=Function.prototype.bind||function(a){if(arguments.length>1){var b=Array.prototype.slice.call(arguments,1);b.unshift(this,a);return v.apply(k,b)}else return v(this,a)};var z=function(){};z.prototype.na=l;z.prototype.F=function(){if(!this.na){this.na=i;this.i()}};z.prototype.i=function(){};var ma=function(a){this.stack=Error().stack||"";if(a)this.message=String(a)};y(ma,Error);ma.prototype.name="CustomError";var na=function(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a},oa=/^[a-zA-Z0-9\-_.!~*'()]*$/,pa=function(a){a=String(a);if(!oa.test(a))return encodeURIComponent(a);return a},va=function(a){if(!qa.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(ra,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(sa,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(ta,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(ua,"&quot;");return a},ra=/&/g,sa=/</g,ta=/>/g,
ua=/\"/g,qa=/[&<>\"]/,xa=function(a,b){for(var c=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(b).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var j=d[g]||"",o=e[g]||"",n=RegExp("(\\d*)(\\D*)","g"),w=RegExp("(\\d*)(\\D*)","g");do{var t=n.exec(j)||["","",""],r=w.exec(o)||["","",""];if(t[0].length==0&&r[0].length==0)break;c=wa(t[1].length==0?0:parseInt(t[1],10),r[1].length==0?0:parseInt(r[1],10))||wa(t[2].length==0,r[2].length==
0)||wa(t[2],r[2])}while(c==0)}return c},wa=function(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var ya=function(a,b){b.unshift(a);ma.call(this,na.apply(k,b));b.shift();this.rc=a};y(ya,ma);ya.prototype.name="AssertionError";var za=function(a,b){if(!a){var c=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(b){d+=": "+b;var e=c}h(new ya(""+d,e||[]))}},Aa=function(a){h(new ya("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var A=Array.prototype,Ba=A.indexOf?function(a,b,c){za(a.length!=k);return A.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:c<0?Math.max(0,a.length+c):c;if(u(a)){if(!u(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ca=A.forEach?function(a,b,c){za(a.length!=k);A.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Da=function(a,b){var c=Ba(a,b);if(c>=0){za(a.length!=k);A.splice.call(a,
c,1)}},Ea=function(){return A.concat.apply(A,arguments)},Fa=function(a){if(q(a))return Ea(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}},Ga=function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(q(c)||(d=s(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var e=a.length,f=c.length,g=0;g<f;g++)a[e+g]=c[g];else a.push(c)}},Ha=function(a,b,c){za(a.length!=k);return arguments.length<=2?A.slice.call(a,b):A.slice.call(a,b,c)};var Ia=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},Ja=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ka=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},La=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ma=function(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<La.length;e++){b=La[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}};var Na,Oa,Pa,Qa,Ra=function(){return p.navigator?p.navigator.userAgent:k};Qa=Pa=Oa=Na=l;var Sa;if(Sa=Ra()){var Ta=p.navigator;Na=Sa.indexOf("Opera")==0;Oa=!Na&&Sa.indexOf("MSIE")!=-1;Pa=!Na&&Sa.indexOf("WebKit")!=-1;Qa=!Na&&!Pa&&Ta.product=="Gecko"}var C=Oa,Ua=Qa,D=Pa,Va=p.navigator,Wa=(Va&&Va.platform||"").indexOf("Mac")!=-1,Xa;
a:{var Ya="",Za;if(Na&&p.opera){var $a=p.opera.version;Ya=typeof $a=="function"?$a():$a}else{if(Ua)Za=/rv\:([^\);]+)(\)|;)/;else if(C)Za=/MSIE\s+([^\);]+)(\)|;)/;else if(D)Za=/WebKit\/(\S+)/;if(Za){var ab=Za.exec(Ra());Ya=ab?ab[1]:""}}if(C){var bb,cb=p.document;bb=cb?cb.documentMode:undefined;if(bb>parseFloat(Ya)){Xa=String(bb);break a}}Xa=Ya}var db=Xa,eb={},fb=function(a){return eb[a]||(eb[a]=xa(db,a)>=0)};var gb,hb=!C||fb("9");!Ua&&!C||C&&fb("9")||Ua&&fb("1.9.1");C&&fb("9");var ib=function(a){var b;b=(b=a.className)&&typeof b.split=="function"?b.split(/\s+/):[];var c;c=Ha(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!(Ba(b,c[e])>=0)){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c};var E=function(a){return a?new jb(a.nodeType==9?a:a.ownerDocument||a.document):gb||(gb=new jb)},kb=function(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!D||document.compatMode=="CSS1Compat"||fb("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,g;g=a[f];f++)if(b==g.nodeName)d[e++]=g;d.length=e;return d}else return a}a=a.getElementsByTagName(b||"*");if(c){d={};
for(f=e=0;g=a[f];f++){b=g.className;if(typeof b.split=="function"&&Ba(b.split(/\s+/),c)>=0)d[e++]=g}d.length=e;return d}else return a},mb=function(a,b){Ia(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in lb)a.setAttribute(lb[d],c);else a[d]=c})},lb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",
type:"type"},ob=function(a,b,c){function d(g){if(g)b.appendChild(u(g)?a.createTextNode(g):g)}for(var e=2;e<c.length;e++){var f=c[e];s(f)&&!(ea(f)&&f.nodeType>0)?Ca(nb(f)?Fa(f):f,d):d(f)}},pb=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):k},nb=function(a){if(a&&typeof a.length=="number")if(ea(a))return typeof a.item=="function"||typeof a.item=="string";else if(da(a))return typeof a.item=="function";return l},jb=function(a){this.u=a||p.document||document};m=jb.prototype;
m.gb=function(){var a=this.u,b=arguments,c=b[0],d=b[1];if(!hb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',va(d.name),'"');if(d.type){c.push(' type="',va(d.type),'"');var e={};Ma(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(u(d))c.className=d;else q(d)?ib.apply(k,[c].concat(d)):mb(c,d);b.length>2&&ob(a,c,b);return c};m.createElement=function(a){return this.u.createElement(a)};m.createTextNode=function(a){return this.u.createTextNode(a)};
m.e=function(){return this.u.parentWindow||this.u.defaultView};m.appendChild=function(a,b){a.appendChild(b)};m.removeNode=pb;var qb=new Function("a","return a");var rb;!C||fb("9");C&&fb("8");var sb=function(a,b){this.type=a;this.currentTarget=this.target=b};y(sb,z);sb.prototype.i=function(){delete this.type;delete this.target;delete this.currentTarget};sb.prototype.Ma=l;sb.prototype.ic=i;var tb=function(a,b){a&&this.ra(a,b)};y(tb,sb);m=tb.prototype;m.target=k;m.relatedTarget=k;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=l;m.altKey=l;m.shiftKey=l;m.metaKey=l;m.dc=l;m.oa=k;
m.ra=function(a,b){var c=this.type=a.type;sb.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Ua)try{qb(d.nodeName)}catch(e){d=k}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.dc=Wa?a.metaKey:a.ctrlKey;this.state=a.state;this.oa=a;delete this.ic;delete this.Ma};m.i=function(){tb.D.i.call(this);this.relatedTarget=this.currentTarget=this.target=this.oa=k};var F=function(a,b){this.tb=b;this.K=[];a>this.tb&&h(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.K.push(this.A?this.A():{})};y(F,z);F.prototype.A=k;F.prototype.jb=k;F.prototype.getObject=function(){if(this.K.length)return this.K.pop();return this.A?this.A():{}};var vb=function(a,b){a.K.length<a.tb?a.K.push(b):ub(a,b)},ub=function(a,b){if(a.jb)a.jb(b);else if(ea(b))if(da(b.F))b.F();else for(var c in b)delete b[c]};
F.prototype.i=function(){F.D.i.call(this);for(var a=this.K;a.length;)ub(this,a.pop());delete this.K};var wb;var xb=(wb="ScriptEngine"in p&&p.ScriptEngine()=="JScript")?p.ScriptEngineMajorVersion()+"."+p.ScriptEngineMinorVersion()+"."+p.ScriptEngineBuildVersion():"0";var yb=function(){},zb=0;m=yb.prototype;m.key=0;m.Z=l;m.Za=l;m.ra=function(a,b,c,d,e,f){if(da(a))this.qb=i;else if(a&&a.handleEvent&&da(a.handleEvent))this.qb=l;else h(Error("Invalid listener argument"));this.fa=a;this.Db=b;this.src=c;this.type=d;this.capture=!!e;this.Ha=f;this.Za=l;this.key=++zb;this.Z=l};m.handleEvent=function(a){if(this.qb)return this.fa.call(this.Ha||this.src,a);return this.fa.handleEvent.call(this.fa,a)};var Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb;
(function(){function a(){return{h:0,Y:0}}function b(){return[]}function c(){var r=function(B){return g.call(r.src,r.key,B)};return r}function d(){return new yb}function e(){return new tb}var f=wb&&!(xa(xb,"5.7")>=0),g;Fb=function(r){g=r};if(f){Ab=function(){return j.getObject()};Bb=function(r){vb(j,r)};Cb=function(){return o.getObject()};Db=function(r){vb(o,r)};Eb=function(){return n.getObject()};Gb=function(){vb(n,c())};Hb=function(){return w.getObject()};Ib=function(r){vb(w,r)};Jb=function(){return t.getObject()};
Kb=function(r){vb(t,r)};var j=new F(0,600);j.A=a;var o=new F(0,600);o.A=b;var n=new F(0,600);n.A=c;var w=new F(0,600);w.A=d;var t=new F(0,600);t.A=e}else{Ab=a;Bb=ba;Cb=b;Db=ba;Eb=c;Gb=ba;Hb=d;Ib=ba;Jb=e;Kb=ba}})();var Lb={},G={},Mb={},Nb={},Ob=function(a,b,c,d,e){if(b)if(q(b))for(var f=0;f<b.length;f++)Ob(a,b[f],c,d,e);else{d=!!d;var g=G;b in g||(g[b]=Ab());g=g[b];if(!(d in g)){g[d]=Ab();g.h++}g=g[d];var j=ha(a),o;g.Y++;if(g[j]){o=g[j];for(f=0;f<o.length;f++){g=o[f];if(g.fa==c&&g.Ha==e){if(g.Z)break;return}}}else{o=g[j]=Cb();g.h++}f=Eb();f.src=a;g=Hb();g.ra(c,f,a,b,d,e);c=g.key;f.key=c;o.push(g);Lb[c]=g;Mb[j]||(Mb[j]=Cb());Mb[j].push(g);if(a.addEventListener){if(a==p||!a.Rb)a.addEventListener(b,f,d)}else a.attachEvent(Pb(b),
f)}else h(Error("Invalid event type"))},Qb=function(a,b,c,d,e){if(q(b))for(var f=0;f<b.length;f++)Qb(a,b[f],c,d,e);else{d=!!d;a:{f=G;if(b in f){f=f[b];if(d in f){f=f[d];a=ha(a);if(f[a]){a=f[a];break a}}}a=k}if(a)for(f=0;f<a.length;f++)if(a[f].fa==c&&a[f].capture==d&&a[f].Ha==e){Rb(a[f].key);break}}},Rb=function(a){if(Lb[a]){var b=Lb[a];if(!b.Z){var c=b.src,d=b.type,e=b.Db,f=b.capture;if(c.removeEventListener){if(c==p||!c.Rb)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(Pb(d),e);c=
ha(c);e=G[d][f][c];if(Mb[c]){var g=Mb[c];Da(g,b);g.length==0&&delete Mb[c]}b.Z=i;e.yb=i;Sb(d,f,c,e);delete Lb[a]}}},Sb=function(a,b,c,d){if(!d.sa)if(d.yb){for(var e=0,f=0;e<d.length;e++)if(d[e].Z){var g=d[e].Db;g.src=k;Gb(g);Ib(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.yb=l;if(f==0){Db(d);delete G[a][b][c];G[a][b].h--;if(G[a][b].h==0){Bb(G[a][b]);delete G[a][b];G[a].h--}if(G[a].h==0){Bb(G[a]);delete G[a]}}}},Pb=function(a){if(a in Nb)return Nb[a];return Nb[a]="on"+a},Ub=function(a,b,c,d,e){var f=
1;b=ha(b);if(a[b]){a.Y--;a=a[b];if(a.sa)a.sa++;else a.sa=1;try{for(var g=a.length,j=0;j<g;j++){var o=a[j];if(o&&!o.Z)f&=Tb(o,e)!==l}}finally{a.sa--;Sb(c,d,b,a)}}return Boolean(f)},Tb=function(a,b){var c=a.handleEvent(b);a.Za&&Rb(a.key);return c};
Fb(function(a,b){if(!Lb[a])return i;var c=Lb[a],d=c.type,e=G;if(!(d in e))return i;e=e[d];var f,g;if(rb===undefined)rb=C&&!p.addEventListener;if(rb){f=b||aa("window.event");var j=i in e,o=l in e;if(j){if(f.keyCode<0||f.returnValue!=undefined)return i;a:{var n=l;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(w){n=i}if(n||f.returnValue==undefined)f.returnValue=i}}n=Jb();n.ra(f,this);f=i;try{if(j){for(var t=Cb(),r=n.currentTarget;r;r=r.parentNode)t.push(r);g=e[i];g.Y=g.h;for(var B=t.length-1;!n.Ma&&
B>=0&&g.Y;B--){n.currentTarget=t[B];f&=Ub(g,t[B],d,i,n)}if(o){g=e[l];g.Y=g.h;for(B=0;!n.Ma&&B<t.length&&g.Y;B++){n.currentTarget=t[B];f&=Ub(g,t[B],d,l,n)}}}else f=Tb(c,n)}finally{if(t){t.length=0;Db(t)}n.F();Kb(n)}return f}d=new tb(b,this);try{f=Tb(c,d)}finally{d.F()}return f});var Vb=function(a){a=String(a);var b;b=/^\s*$/.test(a)?l:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""));if(b)try{return eval("("+a+")")}catch(c){}h(Error("Invalid JSON string: "+a))},Wb=function(){},Yb=function(a,b){var c=[];Xb(a,b,c);return c.join("")},Xb=function(a,b,c){switch(typeof b){case "string":Zb(a,b,c);
break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==k){c.push("null");break}if(q(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++){c.push(e);Xb(a,b[f],c);e=","}c.push("]");break}c.push("{");d="";for(e in b)if(Object.prototype.hasOwnProperty.call(b,e)){f=b[e];if(typeof f!="function"){c.push(d);Zb(a,e,c);c.push(":");Xb(a,f,c);d=","}}c.push("}");break;case "function":break;default:h(Error("Unknown type: "+
typeof b))}},$b={'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\u000b"},ac=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Zb=function(a,b,c){c.push('"',b.replace(ac,function(d){if(d in $b)return $b[d];var e=d.charCodeAt(0),f="\\u";if(e<16)f+="000";else if(e<256)f+="00";else if(e<4096)f+="0";return $b[d]=f+e.toString(16)}),'"')};var bc="StopIteration"in p?p.StopIteration:Error("StopIteration"),cc=function(){};cc.prototype.next=function(){h(bc)};cc.prototype.Ob=function(){return this};var dc=function(a){if(typeof a.L=="function")return a.L();if(u(a))return a.split("");if(s(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ja(a)},ec=function(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(s(a)||u(a))Ca(a,b,c);else{var d;if(typeof a.T=="function")d=a.T();else if(typeof a.L!="function")if(s(a)||u(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=Ka(a);else d=void 0;e=dc(a);f=e.length;for(var g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};var H=function(a){this.w={};this.j=[];var b=arguments.length;if(b>1){b%2&&h(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.P(arguments[c],arguments[c+1])}else if(a){if(a instanceof H){b=a.T();c=a.L()}else{b=Ka(a);c=Ja(a)}for(var d=0;d<b.length;d++)this.P(b[d],c[d])}};m=H.prototype;m.h=0;m.Ba=0;m.L=function(){fc(this);for(var a=[],b=0;b<this.j.length;b++)a.push(this.w[this.j[b]]);return a};m.T=function(){fc(this);return this.j.concat()};m.H=function(a){return gc(this.w,a)};
m.remove=function(a){if(gc(this.w,a)){delete this.w[a];this.h--;this.Ba++;this.j.length>2*this.h&&fc(this);return i}return l};var fc=function(a){if(a.h!=a.j.length){for(var b=0,c=0;b<a.j.length;){var d=a.j[b];if(gc(a.w,d))a.j[c++]=d;b++}a.j.length=c}if(a.h!=a.j.length){var e={};for(c=b=0;b<a.j.length;){d=a.j[b];if(!gc(e,d)){a.j[c++]=d;e[d]=1}b++}a.j.length=c}};H.prototype.get=function(a,b){if(gc(this.w,a))return this.w[a];return b};
H.prototype.P=function(a,b){if(!gc(this.w,a)){this.h++;this.j.push(a);this.Ba++}this.w[a]=b};H.prototype.ca=function(){return new H(this)};H.prototype.Ob=function(a){fc(this);var b=0,c=this.j,d=this.w,e=this.Ba,f=this,g=new cc;g.next=function(){for(;;){e!=f.Ba&&h(Error("The map has changed since the iterator was created"));b>=c.length&&h(bc);var j=c[b++];return a?j:d[j]}};return g};var gc=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var ic=function(a){return hc(a||arguments.callee.caller,[])},hc=function(a,b){var c=[];if(Ba(b,a)>=0)c.push("[...circular reference...]");else if(a&&b.length<50){c.push(jc(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=jc(f))?f:"[fn]";break;default:f=typeof f}if(f.length>40)f=f.substr(0,40)+"...";
c.push(f)}b.push(a);c.push(")\n");try{c.push(hc(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},jc=function(a){a=String(a);if(!kc[a]){var b=/function ([^\(]+)/.exec(a);kc[a]=b?b[1]:"[Anonymous]"}return kc[a]},kc={};var lc=function(a,b,c,d,e){this.reset(a,b,c,d,e)};lc.prototype.xa=0;lc.prototype.lb=k;lc.prototype.kb=k;var mc=0;lc.prototype.reset=function(a,b,c,d,e){this.xa=typeof e=="number"?e:mc++;this.tc=d||la();this.ea=a;this.Zb=b;this.qc=c;delete this.lb;delete this.kb};lc.prototype.Jb=function(a){this.ea=a};var I=function(a){this.xb=a};I.prototype.va=k;I.prototype.ea=k;I.prototype.Da=k;I.prototype.ob=k;var nc=function(a,b){this.name=a;this.value=b};nc.prototype.toString=function(){return this.name};var J=new nc("SEVERE",1E3),oc=new nc("WARNING",900),pc=new nc("INFO",800),qc=new nc("CONFIG",700),rc=new nc("FINE",500),sc=new nc("FINEST",300);I.prototype.getName=function(){return this.xb};I.prototype.getParent=function(){return this.va};I.prototype.Jb=function(a){this.ea=a};
var tc=function(a){if(a.ea)return a.ea;if(a.va)return tc(a.va);Aa("Root logger has no level set.");return k};I.prototype.log=function(a,b,c){if(a.value>=tc(this).value){a=this.Ub(a,b,c);p.console&&p.console.markTimeline&&p.console.markTimeline("log:"+a.Zb);for(b=this;b;){c=b;var d=a;if(c.ob)for(var e=0,f=void 0;f=c.ob[e];e++)f(d);b=b.getParent()}}};
I.prototype.Ub=function(a,b,c){var d=new lc(a,String(b),this.xb);if(c){d.lb=c;var e;var f=arguments.callee.caller;try{var g;var j=aa("window.location.href");if(u(c))g={message:c,name:"Unknown error",lineNumber:"Not available",fileName:j,stack:"Not available"};else{var o,n,w=l;try{o=c.lineNumber||c.pc||"Not available"}catch(t){o="Not available";w=i}try{n=c.fileName||c.filename||c.sourceURL||j}catch(r){n="Not available";w=i}g=w||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:o,
fileName:n,stack:c.stack||"Not available"}:c}e="Message: "+va(g.message)+'\nUrl: <a href="view-source:'+g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+va(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+va(ic(f)+"-> ")}catch(B){e="Exception trying to expose exception! You win, we lose. "+B}d.kb=e}return d};var K=function(a,b){a.log(oc,b,void 0)};I.prototype.info=function(a,b){this.log(pc,a,b)};
var L=function(a,b){a.log(rc,b,void 0)},M=function(a,b){a.log(sc,b,void 0)},uc={},vc=k,wc=function(a){if(!vc){vc=new I("");uc[""]=vc;vc.Jb(qc)}var b;if(!(b=uc[a])){b=new I(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=wc(a.substr(0,c));if(!c.Da)c.Da={};c.Da[d]=b;b.va=c;uc[a]=b}return b};var xc=function(){this.za={}};y(xc,z);xc.prototype.ta=wc("goog.messaging.AbstractChannel");xc.prototype.t=function(a){a&&a()};xc.prototype.r=function(){return i};var yc=function(a,b,c){a.za[b]={$a:c,zb:l}};xc.prototype.i=function(){xc.D.i.call(this);var a=this.ta;a&&typeof a.F=="function"&&a.F();delete this.ta;delete this.za;delete this.ib};var zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");var N=function(a,b){var c;if(a instanceof N){this.$(b==k?a.v:b);O(this,a.l);Ac(this,a.ia);Bc(this,a.J);Cc(this,a.O);Dc(this,a.X);Ec(this,a.z.ca());Fc(this,a.da)}else if(a&&(c=String(a).match(zc))){this.$(!!b);O(this,c[1]||"",i);Ac(this,c[2]||"",i);Bc(this,c[3]||"",i);Cc(this,c[4]);Dc(this,c[5]||"",i);Ec(this,c[6]||"",i);Fc(this,c[7]||"",i)}else{this.$(!!b);this.z=new Gc(k,this,this.v)}};m=N.prototype;m.l="";m.ia="";m.J="";m.O=k;m.X="";m.da="";m.Yb=l;m.v=l;
m.toString=function(){if(this.q)return this.q;var a=[];this.l&&a.push(Hc(this.l,Ic),":");if(this.J){a.push("//");this.ia&&a.push(Hc(this.ia,Ic),"@");var b;b=this.J;b=u(b)?encodeURIComponent(b):k;a.push(b);this.O!=k&&a.push(":",String(this.O))}if(this.X){this.J&&this.X.charAt(0)!="/"&&a.push("/");a.push(Hc(this.X,Jc))}(b=String(this.z))&&a.push("?",b);this.da&&a.push("#",Hc(this.da,Kc));return this.q=a.join("")};
m.ca=function(){var a=this.l,b=this.ia,c=this.J,d=this.O,e=this.X,f=this.z.ca(),g=this.da,j=new N(k,this.v);a&&O(j,a);b&&Ac(j,b);c&&Bc(j,c);d&&Cc(j,d);e&&Dc(j,e);f&&Ec(j,f);g&&Fc(j,g);return j};
var O=function(a,b,c){P(a);delete a.q;a.l=c?b?decodeURIComponent(b):"":b;if(a.l)a.l=a.l.replace(/:$/,"")},Ac=function(a,b,c){P(a);delete a.q;a.ia=c?b?decodeURIComponent(b):"":b},Bc=function(a,b,c){P(a);delete a.q;a.J=c?b?decodeURIComponent(b):"":b},Cc=function(a,b){P(a);delete a.q;if(b){b=Number(b);if(isNaN(b)||b<0)h(Error("Bad port number "+b));a.O=b}else a.O=k},Dc=function(a,b,c){P(a);delete a.q;a.X=c?b?decodeURIComponent(b):"":b},Ec=function(a,b,c){P(a);delete a.q;if(b instanceof Gc){a.z=b;a.z.Sa=
a;a.z.$(a.v)}else{c||(b=Hc(b,Lc));a.z=new Gc(b,a,a.v)}return a},Mc=function(a,b,c){P(a);delete a.q;a.z.P(b,c)},Fc=function(a,b,c){P(a);delete a.q;a.da=c?b?decodeURIComponent(b):"":b},P=function(a){a.Yb&&h(Error("Tried to modify a read-only Uri"))};N.prototype.$=function(a){this.v=a;this.z&&this.z.$(a);return this};
var Nc=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/,Hc=function(a,b){var c=k;if(u(a)){c=a;Nc.test(c)||(c=encodeURI(a));if(c.search(b)>=0)c=c.replace(b,Oc)}return c},Oc=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Ic=/[#\/\?@]/g,Jc=/[\#\?]/g,Lc=/[\#\?@]/g,Kc=/#/g,Gc=function(a,b,c){this.B=a||k;this.Sa=b||k;this.v=!!c},Q=function(a){if(!a.f){a.f=new H;if(a.B)for(var b=a.B.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=k,f=k;if(d>=0){e=b[c].substring(0,d);f=b[c].substring(d+
1)}else e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Pc(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}};m=Gc.prototype;m.f=k;m.h=k;m.add=function(a,b){Q(this);Qc(this);a=Pc(this,a);if(this.H(a)){var c=this.f.get(a);q(c)?c.push(b):this.f.P(a,[c,b])}else this.f.P(a,b);this.h++;return this};m.remove=function(a){Q(this);a=Pc(this,a);if(this.f.H(a)){Qc(this);var b=this.f.get(a);if(q(b))this.h-=b.length;else this.h--;return this.f.remove(a)}return l};
m.H=function(a){Q(this);a=Pc(this,a);return this.f.H(a)};m.T=function(){Q(this);for(var a=this.f.L(),b=this.f.T(),c=[],d=0;d<b.length;d++){var e=a[d];if(q(e))for(var f=0;f<e.length;f++)c.push(b[d]);else c.push(b[d])}return c};m.L=function(a){Q(this);if(a){a=Pc(this,a);if(this.H(a)){var b=this.f.get(a);if(q(b))return b;else{a=[];a.push(b)}}else a=[]}else{b=this.f.L();a=[];for(var c=0;c<b.length;c++){var d=b[c];q(d)?Ga(a,d):a.push(d)}}return a};
m.P=function(a,b){Q(this);Qc(this);a=Pc(this,a);if(this.H(a)){var c=this.f.get(a);if(q(c))this.h-=c.length;else this.h--}this.f.P(a,b);this.h++;return this};m.get=function(a,b){Q(this);a=Pc(this,a);if(this.H(a)){var c=this.f.get(a);return q(c)?c[0]:c}else return b};
m.toString=function(){if(this.B)return this.B;if(!this.f)return"";for(var a=[],b=0,c=this.f.T(),d=0;d<c.length;d++){var e=c[d],f=pa(e);e=this.f.get(e);if(q(e))for(var g=0;g<e.length;g++){b>0&&a.push("&");a.push(f);e[g]!==""&&a.push("=",pa(e[g]));b++}else{b>0&&a.push("&");a.push(f);e!==""&&a.push("=",pa(e));b++}}return this.B=a.join("")};var Qc=function(a){delete a.Fa;delete a.B;a.Sa&&delete a.Sa.q};
Gc.prototype.ca=function(){var a=new Gc;if(this.Fa)a.Fa=this.Fa;if(this.B)a.B=this.B;if(this.f)a.f=this.f.ca();return a};var Pc=function(a,b){var c=String(b);if(a.v)c=c.toLowerCase();return c};Gc.prototype.$=function(a){if(a&&!this.v){Q(this);Qc(this);ec(this.f,function(b,c){var d=c.toLowerCase();if(c!=d){this.remove(c);this.add(d,b)}},this)}this.v=a};var Rc={"1":"NativeMessagingTransport","2":"FrameElementMethodTransport","3":"IframeRelayTransport","4":"IframePollingTransport","5":"FlashTransport","6":"NixTransport"},Sc=["pu","lru","pru","lpu","ppu"],R={},Uc=function(a){for(var b=Tc,c=b.length,d="";a-- >0;)d+=b.charAt(Math.floor(Math.random()*c));return d},Tc="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",S=wc("goog.net.xpc");var T=function(a){this.n=a||E()};y(T,z);T.prototype.aa=0;T.prototype.e=function(){return this.n.e()};T.prototype.getName=function(){return Rc[this.aa]||""};var Vc=function(a,b){this.n=b||E();this.a=a;this.ga=[];this.Sb=v(this.Tb,this)};y(Vc,T);m=Vc.prototype;m.aa=2;m.Oa=l;m.mc=0;m.t=function(){if(Wc(this.a)==0){this.C=this.a.U;this.C.XPC_toOuter=v(this.pb,this)}else this.Xa()};
m.Xa=function(){var a=i;try{if(!this.C)this.C=this.e().frameElement;if(this.C&&this.C.XPC_toOuter){this.Ja=this.C.XPC_toOuter;this.C.XPC_toOuter.XPC_toInner=v(this.pb,this);a=l;this.send("tp","SETUP_ACK");U(this.a)}}catch(b){S.log(J,"exception caught while attempting setup: "+b,void 0)}if(a){if(!this.Wa)this.Wa=v(this.Xa,this);this.e().setTimeout(this.Wa,100)}};m.Ra=function(a){if(Wc(this.a)==0&&!this.a.r()&&a=="SETUP_ACK"){this.Ja=this.C.XPC_toOuter.XPC_toInner;U(this.a)}else h(Error("Got unexpected transport message."))};
m.pb=function(a,b){if(!this.Oa&&this.ga.length==0)V(this.a,a,b);else{this.ga.push({lc:a,La:b});if(this.ga.length==1)this.mc=this.e().setTimeout(this.Sb,1)}};m.Tb=function(){for(;this.ga.length;){var a=this.ga.shift();V(this.a,a.lc,a.La)}};m.send=function(a,b){this.Oa=i;this.Ja(a,b);this.Oa=l};m.i=function(){Vc.D.i.call(this);this.C=this.Ja=k};var W=function(a,b){this.n=b||E();this.a=a;this.ha=this.a.b.ppu;this.gc=this.a.b.lpu;this.wa=[]},Xc,Yc;y(W,T);W.prototype.aa=4;W.prototype.ya=0;W.prototype.ba=l;W.prototype.N=l;var Zc=function(a){return"googlexpc_"+a.a.name+"_msg"},$c=function(a){return"googlexpc_"+a.a.name+"_ack"};
W.prototype.t=function(){L(S,"transport connect called");if(!this.N){L(S,"initializing...");var a=Zc(this);this.W=ad(this,a);this.Ia=this.e().frames[a];a=$c(this);this.Q=ad(this,a);this.Ca=this.e().frames[a];this.N=i}if(bd(this,Zc(this))&&bd(this,$c(this))){L(S,"foreign frames present");this.vb=new cd(this,this.a.p.frames[Zc(this)],v(this.fc,this));this.Ta=new cd(this,this.a.p.frames[$c(this)],v(this.ec,this));this.bb()}else{M(S,"foreign frames not (yet) present");if(Wc(this.a)==1&&!this.hc){M(S,
"innerPeerReconnect called");this.a.name=Uc(10);M(S,"switching channels: "+this.a.name);dd(this);this.N=l;this.hc=ad(this,"googlexpc_reconnect_"+this.a.name)}else if(Wc(this.a)==0){M(S,"outerPeerReconnect called");a=this.a.p.frames;for(var b=a.length,c=0;c<b;c++){var d;try{if(a[c]&&a[c].name)d=a[c].name}catch(e){}if(d){var f=d.split("_");if(f.length==3&&f[0]=="googlexpc"&&f[1]=="reconnect"){this.a.name=f[2];dd(this);this.N=l;break}}}}this.e().setTimeout(v(this.t,this),100)}};
var ad=function(a,b){M(S,"constructing sender frame: "+b);var c=document.createElement("iframe"),d=c.style;d.position="absolute";d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.ha+"#INITIAL";a.e().document.body.appendChild(c);return c},dd=function(a){M(S,"deconstructSenderFrames called");if(a.W){a.W.parentNode.removeChild(a.W);a.W=k;a.Ia=k}if(a.Q){a.Q.parentNode.removeChild(a.Q);a.Q=k;a.Ca=k}},bd=function(a,b){M(S,"checking for receive frame: "+b);try{var c=a.a.p.frames[b];
if(!c||c.location.href.indexOf(a.gc)!=0)return l}catch(d){return l}return i};W.prototype.bb=function(){var a=this.a.p.frames;if(a[$c(this)]&&a[Zc(this)]){this.wb=new ed(this.ha,this.Ia);this.ka=new ed(this.ha,this.Ca);L(S,"local frames ready");this.e().setTimeout(v(function(){this.wb.send("SETUP");this.ba=this.sc=i;L(S,"SETUP sent")},this),100)}else{if(!this.ab)this.ab=v(this.bb,this);this.e().setTimeout(this.ab,100);L(S,"local frames not (yet) present")}};
var fd=function(a){if(a.Pa&&a.Fb){U(a.a);if(a.R){L(S,"delivering queued messages ("+a.R.length+")");for(var b=0,c;b<a.R.length;b++){c=a.R[b];V(a.a,c.kc,c.La)}delete a.R}}else M(S,"checking if connected: ack sent:"+a.Pa+", ack rcvd: "+a.Fb)};
W.prototype.fc=function(a){M(S,"msg received: "+a);if(a=="SETUP"){if(this.ka){this.ka.send("SETUP_ACK");M(S,"SETUP_ACK sent");this.Pa=i;fd(this)}}else if(this.a.r()||this.Pa){var b=a.indexOf("|"),c=a.substring(0,b);a=a.substring(b+1);b=c.indexOf(",");if(b==-1){var d;this.ka.send("ACK:"+c);gd(this,a)}else{d=c.substring(0,b);this.ka.send("ACK:"+d);c=c.substring(b+1).split("/");b=parseInt(c[0],10);c=parseInt(c[1],10);if(b==1)this.Ka=[];this.Ka.push(a);if(b==c){gd(this,this.Ka.join(""));delete this.Ka}}}else K(S,
"received msg, but channel is not connected")};W.prototype.ec=function(a){M(S,"ack received: "+a);if(a=="SETUP_ACK"){this.ba=l;this.Fb=i;fd(this)}else if(this.a.r())if(this.ba)if(parseInt(a.split(":")[1],10)==this.ya){this.ba=l;hd(this)}else K(S,"got ack with wrong sequence");else K(S,"got unexpected ack");else K(S,"received ack, but channel not connected")};
var hd=function(a){if(!(a.ba||!a.wa.length)){var b=a.wa.shift();++a.ya;a.wb.send(a.ya+b);M(S,"msg sent: "+a.ya+b);a.ba=i}},gd=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c);c=b.substring(c+1);if(a.a.r())V(a.a,d,c);else{(a.R||(a.R=[])).push({kc:d,La:c});M(S,"queued delivery")}};W.prototype.ja=3800;
W.prototype.send=function(a,b){var c=a+":"+b;if(!C||b.length<=this.ja)this.wa.push("|"+c);else for(var d=b.length,e=Math.ceil(d/this.ja),f=0,g=1;f<d;){this.wa.push(","+g+"/"+e+"|"+c.substr(f,this.ja));g++;f+=this.ja}hd(this)};W.prototype.i=function(){W.D.i.call(this);var a=id;Da(a,this.vb);Da(a,this.Ta);this.vb=this.Ta=k;pb(this.W);pb(this.Q);this.Ia=this.Ca=this.W=this.Q=k};
var id=[],jd=v(function(){var a=l;try{for(var b=0,c=id.length;b<c;b++){var d;if(!(d=a)){var e=id[b],f=e.Eb.location.href;if(f!=e.hb){e.hb=f;var g=f.split("#")[1];if(g){g=g.substr(1);e.Pb(decodeURIComponent(g))}d=i}else d=l}a=d}}catch(j){S.info("receive_() failed: "+j);b=id[b].k.a;S.info("Transport Error");b.close();if(!id.length)return}b=la();if(a)Xc=b;Yc=window.setTimeout(jd,b-Xc<1E3?10:100)},W),kd=function(){L(S,"starting receive-timer");Xc=la();Yc&&window.clearTimeout(Yc);Yc=window.setTimeout(jd,
10)},ed=function(a,b){this.ha=a;this.Ib=b;this.Ea=0};ed.prototype.send=function(a){this.Ea=++this.Ea%2;a=this.ha+"#"+this.Ea+encodeURIComponent(a);try{if(D)this.Ib.location.href=a;else this.Ib.location.replace(a)}catch(b){S.log(J,"sending failed",b)}kd()};var cd=function(a,b,c){this.k=a;this.Eb=b;this.Pb=c;this.hb=this.Eb.location.href.split("#")[0]+"#INITIAL";id.push(this);kd()};var X=function(a,b){this.n=b||E();this.a=a;this.cc=this.a.b.pru;this.Cb=this.a.b.ifrid;D&&ld()};y(X,T);if(D)var md=[],nd=0,ld=function(){nd||(nd=window.setTimeout(function(){od()},1E3))},od=function(a){var b=la();for(a=a||3E3;md.length&&b-md[0].timestamp>=a;){var c=md.shift().Xb;pb(c);M(S,"iframe removed")}nd=window.setTimeout(pd,1E3)},pd=function(){od()};var qd={};X.prototype.aa=3;X.prototype.t=function(){this.e().xpcRelay||(this.e().xpcRelay=rd);this.send("tp","SETUP")};
var rd=function(a,b){var c=b.indexOf(":"),d=b.substr(0,c),e=b.substr(c+1);if(!C||(c=d.indexOf("|"))==-1)var f=d;else{f=d.substr(0,c);d=d.substr(c+1);c=d.indexOf("+");var g=d.substr(0,c);c=parseInt(d.substr(c+1),10);var j=qd[g];j||(j=qd[g]={nb:[],Gb:0,mb:0});if(d.indexOf("++")!=-1)j.mb=c+1;j.nb[c]=e;j.Gb++;if(j.Gb!=j.mb)return;e=j.nb.join("");delete qd[g]}V(R[a],f,decodeURIComponent(e))};X.prototype.Ra=function(a){if(a=="SETUP"){this.send("tp","SETUP_ACK");U(this.a)}else a=="SETUP_ACK"&&U(this.a)};
X.prototype.send=function(a,b){var c=encodeURIComponent(b),d=c.length;if(C&&d>1800)for(var e=Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^la()).toString(36),f=0,g=0;f<d;g++){var j=c.substr(f,1800);f+=1800;sd(this,a,j,e+(f>=d?"++":"+")+g)}else sd(this,a,c)};
var sd=function(a,b,c,d){if(C){var e=a.e().document.createElement("div");e.innerHTML='<iframe onload="this.xpcOnload()"></iframe>';e=e.childNodes[0];e.xpcOnload=td}else{e=a.e().document.createElement("iframe");D?md.push({timestamp:la(),Xb:e}):Ob(e,"load",td)}var f=e.style;f.visibility="hidden";f.width=e.style.height="0px";f.position="absolute";f=a.cc;f+="#"+a.a.name;if(a.Cb)f+=","+a.Cb;f+="|"+b;if(d)f+="|"+d;f+=":"+c;e.src=f;a.e().document.body.appendChild(e);M(S,"msg sent: "+f)},td=function(){M(S,
"iframe-load");pb(this);this.uc=k};X.prototype.i=function(){X.D.i.call(this);D&&od(0)};var Y=function(a,b,c){this.n=c||E();this.a=a;this.Bb=b||"*"};y(Y,T);Y.prototype.N=l;Y.prototype.aa=1;
var ud={},vd=function(a){var b=a.oa.data,c=b.indexOf("|"),d=b.indexOf(":");if(c==-1||d==-1)return l;var e=b.substring(0,c);c=b.substring(c+1,d);b=b.substring(d+1);L(S,"messageReceived: channel="+e+", service="+c+", payload="+b);if(d=R[e]){V(d,c,b,a.oa.origin);return i}for(var f in R){a=R[f];if(Wc(a)==1&&!a.r()&&c=="tp"&&b=="SETUP"){L(S,"changing channel name to "+e);a.name=e;delete R[f];R[e]=a;V(a,c,b);return i}}S.info('channel name mismatch; message ignored"');return l};m=Y.prototype;
m.Ra=function(a){switch(a){case "SETUP":this.send("tp","SETUP_ACK");break;case "SETUP_ACK":U(this.a)}};m.t=function(){var a=this.e(),b=ha(a),c=ud[b];typeof c=="number"||(c=0);if(c==0)Ob(a.postMessage?a:a.document,"message",vd,l,Y);ud[b]=c+1;this.N=i;this.fb()};m.fb=function(){if(!(this.a.r()||this.na)){this.send("tp","SETUP");this.e().setTimeout(v(this.fb,this),100)}};
m.send=function(a,b){var c=this.a.p;if(c){var d=c.postMessage?c:c.document;this.send=function(e,f){L(S,"send(): payload="+f+" to hostname="+this.Bb);d.postMessage(this.a.name+"|"+e+":"+f,this.Bb)};this.send(a,b)}else L(S,"send(): window not ready")};m.i=function(){Y.D.i.call(this);if(this.N){var a=this.e(),b=ha(a),c=ud[b];ud[b]=c-1;if(c==1)Qb(a.postMessage?a:a.document,"message",vd,l,Y)}};var wd=function(a,b){this.n=b||E();this.a=a;this.Ya=a.at||"";this.Hb=a.rat||"";var c=this.e();if(!c.nix_setup_complete)try{c.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
"vbscript");c.nix_setup_complete=i}catch(d){S.log(J,"exception caught while attempting global setup: "+d,void 0)}this.GCXPC____NIXJS_handle_message=this.Vb;this.GCXPC____NIXJS_create_channel=this.Qb};y(wd,T);m=wd.prototype;m.aa=6;m.V=l;m.G=k;m.t=function(){Wc(this.a)==0?this.Va():this.Ua()};
m.Va=function(){if(!this.V){var a=this.a.U;try{a.contentWindow.opener=this.e().GCXPC____NIXVBS_get_wrapper(this,this.Ya);this.V=i}catch(b){S.log(J,"exception caught while attempting setup: "+b,void 0)}this.V||this.e().setTimeout(v(this.Va,this),100)}};
m.Ua=function(){if(!this.V){try{var a=this.e().opener;if(a&&"GCXPC____NIXVBS_container"in a){this.G=a;if(this.G.GetAuthToken()!=this.Hb){S.log(J,"Invalid auth token from other party",void 0);return}this.G.CreateChannel(this.e().GCXPC____NIXVBS_get_wrapper(this,this.Ya));this.V=i;U(this.a)}}catch(b){S.log(J,"exception caught while attempting setup: "+b,void 0);return}this.V||this.e().setTimeout(v(this.Ua,this),100)}};
m.Qb=function(a){if(typeof a!="unknown"||!("GCXPC____NIXVBS_container"in a))S.log(J,"Invalid NIX channel given to createChannel_",void 0);this.G=a;this.G.GetAuthToken()!=this.Hb?S.log(J,"Invalid auth token from other party",void 0):U(this.a)};m.Vb=function(a,b){this.e().setTimeout(v(function(){V(this.a,a,b)},this),1)};m.send=function(a,b){typeof this.G!=="unknown"&&S.log(J,"NIX channel not connected",void 0);this.G.SendMessage(a,b)};m.i=function(){wd.D.i.call(this);this.G=k};var Z=function(a,b){this.za={};for(var c=0,d;d=Sc[c];c++)d in a&&!/^https?:\/\//.test(a[d])&&h(Error("URI "+a[d]+" is invalid for field "+d));this.b=a;this.name=this.b.cn||Uc(10);this.n=b||E();R[this.name]=this;Ob(window,"unload",xd);S.info("CrossPageChannel created: "+this.name)};y(Z,xc);var yd=/^%*tp$/,zd=/^%+tp$/;m=Z.prototype;m.k=k;m.Qa=1;m.r=function(){return this.Qa==2};m.p=k;m.U=k;
var Ad=function(a){var b={};b.cn=a.name;b.tp=a.b.tp;if(a.b.lru)b.pru=a.b.lru;if(a.b.lpu)b.ppu=a.b.lpu;if(a.b.ppu)b.lpu=a.b.ppu;return b},Bd=function(a,b){var c=a.b.ifrid;c||(c=a.b.ifrid="xpcpeer"+Uc(4));var d=document.createElement("IFRAME");d.id=d.name=c;d.style.width=d.style.height="100%";var e=a.b.pu;if(u(e))e=a.b.pu=new N(e);Mc(e,"xpc",Yb(new Wb,Ad(a)));if(Ua||D){a.Ga=i;window.setTimeout(v(function(){this.Ga=l;b.appendChild(d);d.src=e.toString();S.info("peer iframe created ("+c+")");this.eb&&
this.t(this.cb)},a),1)}else{d.src=e.toString();b.appendChild(d);S.info("peer iframe created ("+c+")")}};Z.prototype.Ga=l;Z.prototype.eb=l;
Z.prototype.t=function(a){this.cb=a||ba;if(this.Ga){S.info("connect() deferred");this.eb=i}else{S.info("connect()");if(this.b.ifrid)this.U=u(this.b.ifrid)?this.n.u.getElementById(this.b.ifrid):this.b.ifrid;if(this.U){(a=this.U.contentWindow)||(a=window.frames[this.b.ifrid]);this.p=a}if(!this.p)if(window==top)h(Error("CrossPageChannel: Can't connect, peer window-object not set."));else this.p=window.parent;if(!this.k){if(!this.b.tp){a=this.b;var b;if(da(document.postMessage)||da(window.postMessage)||
C&&window.postMessage)b=1;else if(Ua)b=2;else if(C&&this.b.pru)b=3;else if(C)b=6;else if(this.b.lpu&&this.b.ppu)b=4;a.tp=b}switch(this.b.tp){case 1:this.k=new Y(this,this.b.ph,this.n);break;case 6:this.k=new wd(this,this.n);break;case 2:this.k=new Vc(this,this.n);break;case 3:this.k=new X(this,this.n);break;case 4:this.k=new W(this,this.n)}this.k?S.info("Transport created: "+this.k.getName()):h(Error("CrossPageChannel: No suitable transport found!"))}this.k.t()}};
Z.prototype.close=function(){if(this.r()){this.Qa=3;this.k.F();this.k=k;S.info('Channel "'+this.name+'" closed')}};var U=function(a){if(!a.r()){a.Qa=2;S.info('Channel "'+a.name+'" connected');a.cb()}};Z.prototype.send=function(a,b){if(this.r())if(this.p.closed){S.log(J,"Peer has disappeared.",void 0);this.close()}else{if(ea(b))b=Yb(new Wb,b);this.k.send(Cd(this,a),b)}else S.log(J,"Can't send. Channel not connected.",void 0)};
var V=function(a,b,c,d){var e=a.b.ph;if(/^[\s\xa0]*$/.test(d==k?"":String(d))||/^[\s\xa0]*$/.test(e==k?"":String(e))||d==a.b.ph)if(a.na)K(S,"CrossPageChannel::deliver_(): Disposed.");else if(!b||b=="tp")a.k.Ra(c);else if(a.r()){b=b.replace(/%[0-9a-f]{2}/gi,decodeURIComponent);b=zd.test(b)?b.substring(1):b;d=c;if(e=a.za[b])d=e;else if(a.ib){e=ka(a.ib,b);d=ea(d);d={$a:e,zb:d}}else{K(a.ta,'Unknown service name "'+b+'"');d=k}if(d){a:{e=c;var f=d.zb;if(f&&u(e))try{c=Vb(e);break a}catch(g){K(a.ta,"Expected JSON payload for "+
b+', was "'+e+'"');c=k;break a}else if(!f&&!u(e)){c=Yb(new Wb,e);break a}c=e}c!=k&&d.$a(c)}}else S.info("CrossPageChannel::deliver_(): Not connected.");else K(S,'Message received from unapproved origin "'+d+'" - rejected.')},Cd=function(a,b){if(yd.test(b))b="%"+b;return b.replace(/[%:|]/g,encodeURIComponent)},Wc=function(a){return window.parent==a.p?1:0};Z.prototype.i=function(){Z.D.i.call(this);this.close();this.U=this.p=k;delete R[this.name]};var xd=function(){for(var a in R){var b=R[a];b&&b.F()}};var Dd=function(a,b){if(C)a.cssText=b;else a[D?"innerText":"innerHTML"]=b};var Ed=function(a,b,c,d){d=new N(d||window.location.href);var e=new N;Bc(e,"talkgadget.google.com");Dc(e,"/talkgadget/d");Mc(e,"token",a);O(new N,d.l);a=c||"wcs-iframe";c="#"+a+" { display: none; }";var f=E(void 0),g=k;if(C){g=f.u.createStyleSheet();Dd(g,c)}else{var j=kb(f.u,"head",void 0,void 0)[0];if(!j){g=kb(f.u,"body",void 0,void 0)[0];j=f.gb("head");g.parentNode.insertBefore(j,g)}g=f.gb("style");Dd(g,c);f.appendChild(j,g)}c={};if(d.l=="http"||d.l=="https"){O(e,d.l);f=new N;O(f,d.l);Bc(f,"talkgadget.google.com");
Dc(f,"/talkgadget/xpc_blank");j=new N;O(j,d.l);Bc(j,d.J);Cc(j,d.O);Dc(j,b);c.ppu=j.toString();c.lpu=f.toString()}else O(e,"http");c.ifrid=a;c.pu=e.toString();Z.call(this,c)};y(Ed,Z);x("chat.WcsCrossPageChannel",Ed);var Fd=k,Gd=k,Hd=k;var $=function(a,b,c,d,e){this.readyState=0;this.Na=[];this.onopen=b.onopen;this.onmessage=b.onmessage;this.onerror=b.onerror;this.onclose=b.onclose;this.I=c||new Ed(a,"/_ah/channel/xpc_blank");this.qa=c?d:"wcs-iframe";this.ub=e||new Id(a);document.body||h("document.body is not defined -- do not create socket from script in <head>.");Bd(this.I,document.body);yc(this.I,"opened",v(this.bc,this));yc(this.I,"onMessage",v(this.ac,this));yc(this.I,"onError",v(this.$b,this));yc(this.I,"onClosed",v(this.Ab,
this));this.I.t(v(function(){},this))};$.prototype.send=function(){return l};$.prototype.close=function(){this.Ab()};$.prototype.jc=function(){for(var a=0,b;b=this.Na[a];a++)switch(b.type){case 0:this.onopen(b.pa);break;case 1:this.onmessage(b.pa);break;case 2:this.onerror(b.pa);break;case 3:this.onclose(b.pa)}this.Na=[]};var Jd=function(a,b,c){a.Na.push({type:b,pa:c});window.setTimeout(v(a.jc,a),1)};
$.prototype.ac=function(a){a=Vb(a);var b=a.m;a=a.s;for(var c=this.ub,d=[],e=0,f=0;f<b.length;f++){for(var g=b.charCodeAt(f);g>255;){d[e++]=g&255;g>>=8}d[e++]=g}d.push(c.xa);c=c.Wb;c.reset();c.update(d);a:{d=c.S();if(!s(d)||!s(a)||d.length!=a.length)a=l;else{c=d.length;for(e=0;e<c;e++)if(d[e]!==a[e]){a=l;break a}a=i}}a&&Jd(this,1,{data:b});this.ub.xa++};$.prototype.$b=function(a){a=Vb(a);Jd(this,2,{description:a.d,code:a.c})};$.prototype.bc=function(){this.readyState=1;Jd(this,0,{})};
$.prototype.Ab=function(){this.I.close();this.readyState=3;Jd(this,3,{});if(this.qa){var a=new jb,b=u(this.qa)?a.u.getElementById(this.qa):this.qa;b&&a.removeNode(b)}};
var Id=function(a){for(;a.length%4!=0;)a+=".";this.xa=0;try{a.length%4&&h(Error("Length of b64-encoded data must be zero mod four"));if(!Fd){Fd={};Gd={};Hd={};for(var b=0;b<65;b++){Fd[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b);Gd[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(b);Hd[Gd[b]]=b}}b=Hd;for(var c=[],d=0;d<a.length;d+=4){var e=b[a.charAt(d)],f=b[a.charAt(d+1)],g=b[a.charAt(d+2)],j=b[a.charAt(d+3)];if(e==k||f==k||g==k||j==
k)h(Error());c.push(e<<2|f>>4);if(g!=64){c.push(f<<4&240|g>>2);j!=64&&c.push(g<<6&192|j)}}this.Kb=c}catch(o){o.message?h(Error("The provided token is invalid ("+o.name+": "+o.message+")")):h(Error("The provided token is invalid."))}this.o=new SHA1;this.Wb=new G_HMAC(this.o,this.Kb,this.Kb.length)};x("goog.appengine.Socket",$);x("goog.appengine.Socket.ReadyState",{CONNECTING:0,OPEN:1,oc:2,CLOSED:3});x("goog.appengine.Socket.ReadyState.CONNECTING",0);x("goog.appengine.Socket.ReadyState.OPEN",1);
x("goog.appengine.Socket.ReadyState.CLOSING",2);x("goog.appengine.Socket.ReadyState.CLOSED",3);x("goog.appengine.Socket.prototype.send",$.prototype.send);x("goog.appengine.Socket.prototype.close",$.prototype.close);var Kd=function(a){this.nc=a},Ld={onopen:function(){},onclose:function(){},onerror:function(){},onmessage:function(){}};Kd.prototype.open=function(a){a=a||Ld;return new $(this.nc,a)};x("goog.appengine.Channel",Kd);x("goog.appengine.Channel.prototype.open",Kd.prototype.open);SHA1=function(){this.g=Array(5);this.ma=Array(64);this.Nb=Array(80);this.ua=Array(64);this.ua[0]=128;for(var a=1;a<64;++a)this.ua[a]=0;this.reset()};SHA1.prototype.reset=function(){this.g[0]=1732584193;this.g[1]=4023233417;this.g[2]=2562383102;this.g[3]=271733878;this.g[4]=3285377520;this.Aa=this.M=0};
var Md=function(a,b){for(var c=a.Nb,d=0;d<64;d+=4)c[d/4]=b[d]<<24|b[d+1]<<16|b[d+2]<<8|b[d+3];for(d=16;d<80;++d)c[d]=((c[d-3]^c[d-8]^c[d-14]^c[d-16])<<1|(c[d-3]^c[d-8]^c[d-14]^c[d-16])>>>31)&4294967295;var e=a.g[0],f=a.g[1],g=a.g[2],j=a.g[3],o=a.g[4],n,w;for(d=0;d<80;++d){if(d<40)if(d<20){n=j^f&(g^j);w=1518500249}else{n=f^g^j;w=1859775393}else if(d<60){n=f&g|j&(f|g);w=2400959708}else{n=f^g^j;w=3395469782}n=((e<<5|e>>>27)&4294967295)+n+o+w+c[d]&4294967295;o=j;j=g;g=(f<<30|f>>>2)&4294967295;f=e;e=n}a.g[0]=
a.g[0]+e&4294967295;a.g[1]=a.g[1]+f&4294967295;a.g[2]=a.g[2]+g&4294967295;a.g[3]=a.g[3]+j&4294967295;a.g[4]=a.g[4]+o&4294967295};SHA1.prototype.update=function(a,b){if(!b)b=a.length;var c=0;if(this.M==0)for(;c+64<b;){Md(this,a.slice(c,c+64));c+=64;this.Aa+=64}for(;c<b;){this.ma[this.M++]=a[c++];++this.Aa;if(this.M==64){this.M=0;for(Md(this,this.ma);c+64<b;){Md(this,a.slice(c,c+64));c+=64;this.Aa+=64}}}};
SHA1.prototype.S=function(){var a=Array(20),b=this.Aa*8;this.M<56?this.update(this.ua,56-this.M):this.update(this.ua,64-(this.M-56));for(var c=63;c>=56;--c){this.ma[c]=b&255;b>>>=8}Md(this,this.ma);for(c=b=0;c<5;++c)for(var d=24;d>=0;d-=8)a[b++]=this.g[c]>>d&255;return a};G_HMAC=function(a,b,c){if(!a||typeof a!="object"||!a.reset||!a.update||!a.S)h(Error("Invalid hasher object. Hasher unspecified or does not implement expected interface."));b.constructor!=Array&&h(Error("Invalid key."));c&&typeof c!="number"&&h(Error("Invalid block size."));this.o=a;this.la=c||16;this.sb=Array(this.la);this.rb=Array(this.la);if(b.length>this.la){this.o.update(b);b=this.o.S()}for(c=0;c<this.la;c++){a=c<b.length?b[c]:0;this.sb[c]=a^G_HMAC.Mb;this.rb[c]=a^G_HMAC.Lb}};G_HMAC.Mb=92;
G_HMAC.Lb=54;G_HMAC.prototype.reset=function(){this.o.reset();this.o.update(this.rb)};G_HMAC.prototype.update=function(a){a.constructor!=Array&&h(Error("Invalid data. Data must be an array."));this.o.update(a)};G_HMAC.prototype.S=function(){var a=this.o.S();this.o.reset();this.o.update(this.sb);this.o.update(a);return this.o.S()}; })()
